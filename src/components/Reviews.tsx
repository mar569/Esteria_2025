"use client";

import { useState, useRef, useEffect } from "react";
import { Star } from "lucide-react";
import ReviewCard from "./animate/ReviewCard";
import Modal from "./lightswind/Card";
import SwipeReviews from "./lightswind/SwipeReviews";


const reviews = [
  {
    name: "–ê–ª–∏–Ω–∞ –û–≤—Å—è–Ω–Ω–∏–∫–æ–≤–∞",
    service: "–ü–∏–ª–∏–Ω–≥",
    text: "–ë—ã–ª–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö. –û—á–µ–Ω—å –≤–ø–µ—á–∞—Ç–ª–∏–ª —ç–Ω–∑–∏–º–Ω—ã–π –ø–∏–ª–∏–Ω–≥. –≠—Ñ—Ñ–µ–∫—Ç –ø–æ—Å–ª–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø–æ—Ç—Ä—è—Å–∞—é—â–∏–π, –≤—ã—Ä–æ–≤–Ω—è–ª—Å—è –∏ –æ—Å–≤–µ—Ç–∏–ª—Å—è —Ç–æ–Ω –ª–∏—Ü–∞. –û–±—è–∑–∞—Ç–µ–ª—å–æ –≤–µ—Ä–Ω—É—Å—å –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä—ã! –°–ø–∞—Å–∏–±–æ! üòä",
    rating: 5,
  },
  {
    name: "–ê–Ω–∞—Å—Ç–∞—Å–∏—è –ì–æ–ª–µ–Ω—è",
    service: "–£–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–∞—è —á–∏—Å—Ç–∫–∞ –ª–∏—Ü–∞",
    text: "–ë—ã–ª–∞ –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ —É–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–æ–π —á–∏—Å—Ç–∫–∏ –ª–∏—Ü–∞, –æ—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è. –ü—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –º–∞—Å—Ç–µ—Ä, —É—é—Ç–Ω–∞—è –æ–±—Å—Ç–∞–Ω–æ–≤–∫–∞. –ö–æ–∂–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∂–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤—ã–≥–ª—è–¥–∏—Ç —à–∏–∫–∞—Ä–Ω–æ. –†–µ–∫–æ–º–µ–Ω–¥—É—é!",
    rating: 5,
  },
  {
    name: "–°–≤–µ—Ç–ª–∞–Ω–∞ –ñ—É—Ä–∞–≤–ª—ë–≤–∞",
    service: "–ú–∞—Å—Å–∞–∂ –ª–∏—Ü–∞, –±–æ—Ç–æ–∫—Å",
    text: "–ë—ã–ª–∞ –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –≠—Å—Ç–µ—Ä–∏—è —É –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥–∞ –ú–∞—Ä–∏–∞–Ω–Ω—ã. –ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥, –≤–æ–ª—à–µ–±–Ω—ã–µ —Ä—É–∫–∏. –ü—Ä–æ—Ö–æ–¥–∏–ª–∞ –∫—É—Ä—Å –º–∞—Å—Å–∞–∂–∞, —Å–¥–µ–ª–∞–ª–∞ –±–æ—Ç–æ–∫—Å. –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –ª–∏—Ü–æ. –û–±—è–∑–∞—Ç–ª—å–Ω–æ –≤–µ—Ä–Ω—É—Å—å –Ω–∞ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã, —Å–ø–∞—Å–∏–±–æ ‚ù§Ô∏è",
    rating: 5,
  },
  {
    name: "–°–≤–µ—Ç–ª–∞–Ω–∞ –í—Ä—É–±–ª–µ–≤—Å–∫–∞—è",
    service: "–ß–∏—Å—Ç–∫–∞ –ª–∏—Ü–∞",
    text: "–•–æ–∂—É –Ω–µ –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –∫ –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥—É - –º–∞—Å—Ç–µ—Ä –∑–æ–ª–æ—Ç—ã–µ —Ä—É—á–∫–∏, –ø–æ—Å–æ–≤–µ—Ç—É–µ—Ç, –ø–æ–¥—Å–∫–∞–∂–µ—Ç, —á—Ç–æ –∏ –∫–∞–∫ –ª—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å. –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ –æ—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω–∞—è, –∫–∞–±–∏–Ω–µ—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç –∫ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—é. –í—Å–µ–≥–¥–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–∞—è. –ú–æ–∂–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–µ–º –Ω–∞ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è . –û—á–µ–Ω—å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–∞ –∑–∞ —Ä–∞–±–æ—Ç—É. –†–µ–∫–æ–º–µ–Ω–¥—É—é –≤—Å–µ–º . –û—Ç–∑—ã–≤—á–∏–≤–∞—è –∏ –ø—Ä–∏—è—Ç–Ω–∞—è –¥–µ–≤—É—à–∫–∞.üå∫üå∫üå∫",
    rating: 5,
  },
  {
    name: "–ê–Ω–∞—Å—Ç–∞—Å–∏—è –í–∞—Å–∏–ª—å–µ–≤–∞",
    service: "–£–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–∞—è —á–∏—Å—Ç–∫–∞ –ª–∏—Ü–∞",
    text: "–í—Å–µ –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ! –î–æ–≤–µ—Ä—è—Ç—å —Å–≤–æ—é –º–æ—Å—å–∫—É, —Ç–æ–ª—å–∫–æ —ç—Ç–æ–º—É –º–∞—Å—Ç–µ—Ä—É! –°–ø–∞—Å–∏–±–æ –æ–≥—Ä–æ–º–Ω–æ–µ üôè –ñ–∞–ª—å, —á—Ç–æ –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∞ –í–∞—Å —Ä–∞–Ω—å—à–µ",
    rating: 5,
  },
  {
    name: "–ï–ª–µ–Ω–∞ –ñ–∏–ª–∏–Ω–∞",
    service: "–ö–æ–º–±–∏–Ω–æ–≤–∞–Ω–Ω–∞—è —á–∏—Å—Ç–∫–∞ –ª–∏—Ü–∞, –ø–∏–ª–∏–Ω–≥–∏, –º–∞—Å—Å–∞–∂ –ª–∏—Ü–∞",
    text: "–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç üëã –°–µ–π—á–∞—Å –ø—Ä–æ—Ö–æ–∂—É –∫—É—Ä—Å —É—Ö–æ–¥–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä —É –ú–∞—Ä–∏–∞–Ω–Ω—ã. –ú–∞–ª–æ —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω–∞ –ø—Ä–∏–≤–µ–ª–∞ –º–æ—ë –ª–∏—Ü–æ –≤ –ø–æ—Ä—è–¥–æ–∫, –µ—â–µ –ø–æ–º–æ–≥–ª–∞ —Å –ø–æ–¥–±–æ—Ä–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –º–Ω–µ —Å—Ä–µ–¥—Å—Ç–≤ –ø–æ —É—Ö–æ–¥—É –∑–∞ –∫–æ–∂–µ–π –ª–∏—Ü–∞. –î–æ–≤–æ–ª—å–Ω–∞—è –µ—ë —Ä–∞–±–æ—Ç–æ–π –æ—á–µ–Ω—å ! –í—Å–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É—é üëç",
    rating: 5,
  },
  {
    name: "–ê–Ω–Ω–∞ –ê–∫–æ–ø—è–Ω",
    service: "–õ–∏–ø–æ–ª–∏—Ç–∏–∫–∏ –ø–æ –ª–∏—Ü—É, –∫–æ–º–±–∏–Ω–æ–≤–∞–Ω–Ω–∞—è —á–∏—Å—Ç–∫–∞ –ª–∏—Ü–∞",
    text: "–ë–æ–ª—å—à–æ–µ —Å–ø–∞—Å–∏–±–æ –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥—É –ú–∞—Ä–∏–∞–Ω–Ω–µ. –ë—ã–ª–∞ –Ω–∞ —á–∏—Å—Ç–∫–µ –ª–∏—Ü–∞, –æ—á–µ–Ω—å –¥–æ–≤–æ–ª—å–Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–æ–π! –ö–æ–∂–∞ –±—É–¥—Ç–æ –∑–∞–¥—ã—à–∞–ª–∞, —Å–≤–µ–∂–∞—è –∏ —Å–∏—è—é—â–∞—è üòä –ú–Ω–æ–≥–æ –ª–µ—Ç –¥–µ–ª–∞—é —á–∏—Å—Ç–∫–∏ (—É –¥—Ä—É–≥–∏—Ö –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥–æ–≤), —Å–µ–≥–æ–¥–Ω—è –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø—Ä–æ—à–ª–∞ –æ—á–µ–Ω—å –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ, –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏ –±–µ–∑ –±–æ–ª–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —è –¥–æ–≤–æ–ª—å–Ω–∞, —Ç–µ–ø–µ—Ä—å –±—É–¥—É —Ö–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ –≠—Å—Ç–µ—Ä–∏—é üòä",
    rating: 5,
  },
  {
    name: "–Æ—Ä–∞ –ú–∏—Ö–∞–π–ª–æ–≤",
    service: "–ö–æ–º–±–∏–Ω–æ–≤–∞–Ω–Ω–∞—è —á–∏—Å—Ç–∫–∞ –ª–∏—Ü–∞",
    text: "–†–µ–≥—É–ª—è—Ä–Ω–æ —Ö–æ–∂—É –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤ –≠—Å—Ç–µ—Ä–∏—è. –û—á–µ–Ω—å –¥–æ–≤–æ–ª–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º, –∫–æ–∂–∞ –ø—Ä–µ–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–∑–∞—Ö.",
    rating: 5,
  },
];

const Reviews = () => {
  const [isModalOpen, setIsModalOpen] = useState(false);
  const reviewsRef = useRef<HTMLElement>(null);

  useEffect(() => {
    if (isModalOpen && reviewsRef.current) {
      reviewsRef.current.scrollIntoView({ behavior: "smooth", block: "start" });
    }
  }, [isModalOpen]);

  const displayedReviews = reviews.slice(0, 2);

  return (
    <section
      id="reviews"
      className="py-20 bg-gradient-to-br from-mint-50 via-[#ccede3] to-brown-100"
      ref={reviewsRef}
    >
      <div className="container mx-auto px-4">
        <div className="text-center mb-16">
          <h2 className="text-4xl lg:text-5xl font-bold text-gray-800 mb-6">
            –û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
          </h2>
        </div>

        <div className="grid md:grid-cols-2 gap-8">
          {displayedReviews.map((review, index) => (
            <ReviewCard key={review.name} review={review} index={index} />
          ))}
        </div>

        <div className="text-right mt-12">
          <button
            onClick={() => setIsModalOpen(true)}
            style={{
              background: `radial-gradient(
                    212.58% 2646.98% at 35.86% 50%,
                    #158875 0,
                    #04ae78 48.96%,
                    #016238 100%
                  )`,
            }}
            className="inline-block text-white font-semibold py-3 px-4 rounded-full shadow-lg transition-colors duration-300"
            aria-haspopup="dialog"
            aria-expanded={isModalOpen}
            aria-controls="reviews-modal"
          >
            –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –æ—Ç–∑—ã–≤—ã
          </button>
        </div>

        <div className="text-center mt-12">
          <div className="inline-flex items-center space-x-4 bg-white rounded-2xl p-3 shadow-lg">
            <div className="flex items-center space-x-1">
              {[...Array(5)].map((_, i) => (
                <Star key={i} className="w-6 h-6 text-yellow-400 fill-current" />
              ))}
            </div>
            <div className="text-left">
              <div className="text-2xl font-bold text-gray-800">5/5</div>
              <div className="text-gray-600 text-sm">–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞</div>
            </div>
            <div className="h-12 w-px bg-gray-200"></div>
          </div>
        </div>
      </div>

      <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)}>
        <SwipeReviews reviews={reviews} />
      </Modal>
    </section>
  );
};

export default Reviews;
